<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>global events</name>
    <events>
        <comment>Touche l&apos;écran avec 4 doigts pour aller dans la scène pour le manual loading</comment>
        <event-block sid="9906113789766278">
            <conditions>
                <condition id="15" name="On double-tap" sid="5046725027455657" type="Touch" />
                <condition id="12" name="Has Nth touch" sid="7712241700716919" type="Touch">
                    <param id="0" name="Touch number">4-1</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="4078151407375933" type="System">
                    <param id="0" name="Layout">manual loading</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="5543309227872803">
            <conditions>
                <condition id="2" name="Key is down" sid="4222981231032219" type="Keyboard">
                    <param id="0" name="Key">80 (P)</param>
                </condition>
                <condition id="2" name="Key is down" sid="1342442979006446" type="Keyboard">
                    <param id="0" name="Key">69 (E)</param>
                </condition>
                <condition id="2" name="Key is down" sid="5844897751072514" type="Keyboard">
                    <param id="0" name="Key">84 (T)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="2365613198982842" type="System">
                    <param id="0" name="Layout">manual loading</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="8227255660068296" title="Save">
            <sub-events>
                <event-block any="1" sid="7604520539040787">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="9202097605480088" type="System">
                            <param id="0" name="Interval (seconds)">60</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-36" name="Save" sid="6282600037916136" type="System">
                            <param id="0" name="Slot">&quot;mysave&quot;</param>
                        </action>
                        <action disabled="1" id="0" name="Call function" sid="8931207912499693" type="Function">
                            <param id="0" name="Name">&quot;notification&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;Saving in progress...&quot;{###}&quot;nobr&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4616543174335375">
                    <conditions>
                        <condition id="3" name="On touched object" sid="6824059852371036" type="Touch">
                            <param id="0" name="Object">saveBtn</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-36" name="Save" sid="2477216391478845" type="System">
                            <param id="0" name="Slot">&quot;mysave&quot;</param>
                        </action>
                        <action disabled="1" id="0" name="Call function" sid="4501332724436306" type="Function">
                            <param id="0" name="Name">&quot;notification&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;Saving in progress...&quot;{###}&quot;nobr&quot;</param>
                        </action>
                        <action id="-16" name="Set opacity" sid="4677038493967835" type="saveBtn">
                            <param id="0" name="Opacity">10</param>
                        </action>
                        <action id="-16" name="Wait" sid="6130481896348527" type="System">
                            <param id="0" name="Seconds">5</param>
                        </action>
                        <action id="-16" name="Set opacity" sid="7301248580874645" type="saveBtn">
                            <param id="0" name="Opacity">100</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1585622187687725">
                    <conditions>
                        <condition id="-28" name="On save complete" sid="5213636866070556" type="System" />
                    </conditions>
                    <actions>
                        <action disabled="1" id="0" name="Call function" sid="9488686038622572" type="Function">
                            <param id="0" name="Name">&quot;notification&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;Game saved&quot;</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="4217253360894964">
                            <conditions>
                                <condition id="-18" inverted="1" name="Is in preview" sid="3759092013327661" type="System" />
                            </conditions>
                            <actions>
                                <action id="14" name="Log" sid="4881794402163457" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">SaveStateJSON</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="8721538241536801">
                    <conditions>
                        <condition id="-29" name="On load complete" sid="4988276529951059" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="171037476735454" type="Function">
                            <param id="0" name="Name">&quot;notification&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;Loading successful&quot;</param>
                        </action>
                        <action id="14" name="Log" sid="1978877805447394" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;in global events: load ok&quot;</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Permettre ou non de réutiliser une vieille savefile</comment>
                        <variable comment="1=true" constant="1" name="ALLOW_OLD_SAVEFILE" sid="7658853365759066" static="0" type="number">1</variable>
                        <event-block sid="5160525587991394">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="8796818999843201" type="System">
                                    <param id="0" name="Variable">versionNumberSaved</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">projectversion</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="14" name="Log" sid="7742670949956762" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">&quot;version numbers are matching&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3136053506248695">
                            <conditions>
                                <condition id="-22" name="Else" sid="7647337491516364" type="System" />
                            </conditions>
                            <actions>
                                <action id="14" name="Log" sid="4453099367722621" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">&quot;Version numbers are not matching. Upgrading from: &quot; &amp; versionNumberSaved</param>
                                </action>
                                <action id="-9" name="Set value" sid="9392244255693984" type="System">
                                    <param id="0" name="Variable">versionNumberSaved</param>
                                    <param id="1" name="Value">projectversion &amp; &quot; &quot; &amp; versionNumberSaved</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="337009768600983">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="4630246646121986" type="System">
                                            <param id="0" name="Variable">ALLOW_OLD_SAVEFILE</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-2" name="Go to layout" sid="1277380685019034" type="System">
                                            <param id="0" name="Layout">savefile error</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
